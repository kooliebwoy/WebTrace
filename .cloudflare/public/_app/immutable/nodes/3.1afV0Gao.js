import{c as bt,a as n,d as gt,t as u,s as g,n as xt,b as O}from"../chunks/DjbUwmZ6.js";import{p as Qa,f as Ua,n as ht,a as Va,F as E,G as Ga,y as yt,e as d,c as e,t as x,g as a,s as i,i as z,r as t}from"../chunks/B2IzWbAD.js";import{s as wt,r as kt,i as f}from"../chunks/DUzfTGf7.js";import{I as At,s as Mt,a as La,c as Fa,r as Ha,e as ba,d as St,i as ga}from"../chunks/B8NHcvEE.js";import{a as Ct,b as Dt,e as Nt,C as jt}from"../chunks/CSLNZcE3.js";import{t as q,f as Ja,s as Pt,a as xa}from"../chunks/B901RTXx.js";import{q as Tt}from"../chunks/iVSWiVfi.js";import{g as It}from"../chunks/CyDalvIn.js";import{S as Rt}from"../chunks/DfpAqJJQ.js";import{A as Lt}from"../chunks/-MBee31-.js";import{I as Ft}from"../chunks/CReqa7Bu.js";function Xt(k,v){Qa(v,!0);let p=kt(v,["$$slots","$$events","$$legacy"]);At(k,wt({name:"layers"},()=>p,{iconNode:[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"}]],children:(o,$)=>{var b=bt(),G=Ua(b);Mt(G,()=>v.children??ht),n(o,b)},$$slots:{default:!0}})),Va()}var Bt=(k,v)=>d(v,""),Et=u('<button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 btn btn-ghost btn-xs btn-circle" aria-label="Clear input">âœ•</button>'),zt=(k,v)=>d(v,!a(v)),Kt=(k,v,p)=>v(a(p).id),Ot=u('<div class="flex items-center gap-2"><input type="checkbox" class="checkbox checkbox-xs checkbox-secondary"> <label class="text-xs cursor-pointer"> </label></div>'),qt=(k,v)=>d(v,[],!0),$t=(k,v,p)=>d(v,p.map(l=>l.id),!0),Gt=u('<div class="mt-3 bg-base-200 p-3 rounded-md"><p class="text-xs mb-2 opacity-70">Select record types to check (default: all types)</p> <div class="grid grid-cols-2 gap-y-2 gap-x-4"></div> <div class="flex gap-2 mt-4"><button type="button" class="btn btn-ghost btn-xs flex-1">Clear selection</button> <button type="button" class="btn btn-secondary btn-xs flex-1">Select all</button></div></div>'),Ht=u('<div class="absolute inset-0 flex items-center justify-center bg-secondary"><span class="loading loading-dots"></span></div> <span class="opacity-0">Lookup DNS</span>',1),Jt=xt('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> Lookup DNS',1),Qt=()=>It("/"),Ut=u('<div class="alert alert-error mt-2 shadow-md"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),Vt=(k,v,p)=>v(p()),Wt=u('<div class="font-mono text-xs bg-base-200 p-2 rounded truncate hover:text-clip"> </div>'),Yt=u('<div class="text-xs opacity-70"> </div>'),Zt=u('<div class="relative"><div><div class="card-body p-4"><div class="flex justify-between items-center"><div class="flex items-center gap-2"><span class="badge badge-secondary"> </span> <span class="text-sm opacity-70"> </span></div> <div class="badge badge-outline badge-sm">Click for details</div></div> <div class="mt-2 space-y-2"><!> <!></div></div></div></div>'),ae=(k,v,p)=>{d(v,null),d(p,!1)},te=u('<span class="badge badge-sm badge-outline"> </span>'),ee=u('<div class="text-xs mt-1"><span class="opacity-70">Priority:</span> </div>'),se=u('<div class="card bg-base-200 mb-4 shadow-sm"><div class="card-body p-3"><div class="flex justify-between items-center"><span class="badge badge-sm"></span> <!></div> <!> <div class="mt-2"><div class="font-mono text-xs break-all"> </div></div></div></div>'),re=u('<div class="h-full w-full max-w-[400px] self-start"><div class="card bg-base-100 shadow-xl h-full sticky top-4"><div class="card-body p-5"><div class="flex justify-between items-center mb-2"><h3 class="card-title text-lg"> </h3> <button class="btn btn-ghost btn-sm btn-circle"><!></button></div> <div class="py-2"><div class="flex items-center gap-2 mb-3"><!> <div class="text-sm opacity-80"><!></div></div> <div class="divider my-2">Details</div> <div class="overflow-y-auto max-h-[60vh] pr-2"></div></div></div></div></div>'),ie=u('<div class="flex flex-col justify-start h-full w-full max-w-[600px] mx-auto"><h3 class="text-xl font-bold mb-4 mt-2"><div class="flex items-center gap-2"><!> DNS Records</div> <div class="text-sm font-normal opacity-70 mt-1">Domain: <span class="font-mono"> </span></div></h3> <div class="space-y-6"></div></div> <!>',1),le=u(`<div class="min-h-screen bg-base-200 flex flex-col items-center justify-center p-4 sm:p-6"><div><div><div class="bg-secondary text-secondary-content p-5"><h2 class="text-2xl font-bold flex items-center gap-2"><!> DNS Lookup</h2> <p class="text-sm opacity-80 mt-1">Check DNS records for any domain</p></div> <div class="card-body p-6"><form method="post" action="?/dnsLookup" class="flex flex-col gap-4"><div class="form-control"><label class="label pb-1"><span class="label-text font-medium">Domain name</span></label> <div class="relative"><input type="text" class="input input-bordered w-full pr-12 font-mono text-sm" name="domain" placeholder="example.com" required minlength="4"> <!></div> <label class="label pt-0"><span class="label-text-alt">Don't include http:// or https://</span></label></div> <div class="mt-2"><button type="button" class="btn btn-ghost btn-xs w-full text-left border border-base-300"><span class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg> </span></button> <!></div> <button class="btn btn-secondary w-full mt-4 relative overflow-hidden" type="submit"><!></button> <div class="mt-2"><button type="button" class="btn btn-ghost btn-xs w-full flex justify-center items-center gap-2"><!> Back to tools</button></div> <!></form></div></div> <!></div></div>`);function ge(k,v){Qa(v,!0);let p=E(""),l=E(!1),o=E(Ga([])),$=E(""),b=E(Ga([])),G=E(!1);const Xa=[{id:"A",label:"A (IPv4)",description:"Maps domain to IPv4 addresses"},{id:"AAAA",label:"AAAA (IPv6)",description:"Maps domain to IPv6 addresses"},{id:"CNAME",label:"CNAME",description:"Canonical name records (aliases)"},{id:"MX",label:"MX",description:"Mail exchange records"},{id:"NS",label:"NS",description:"Nameserver records"},{id:"TXT",label:"TXT",description:"Text records"},{id:"SOA",label:"SOA",description:"Start of authority"},{id:"CAA",label:"CAA",description:"Certificate Authority Authorization"},{id:"DMARC",label:"DMARC",description:"Domain-based Message Authentication"},{id:"DKIM",label:"DKIM",description:"DomainKeys Identified Mail"},{id:"SPF",label:"SPF",description:"Sender Policy Framework"}];function Wa(s){a(b).includes(s)?d(b,a(b).filter(r=>r!==s),!0):d(b,[...a(b),s],!0)}let c=E(null),A=E(!1);yt(()=>{console.log("[Client DNS Page] Form prop updated:",v.form)});const Ya=({formData:s})=>(d(l,!0),d(o,[],!0),d($,""),d(c,null),d(A,!1),a(b).length>0&&s.set("recordTypes",a(b).join(",")),async({result:r})=>{console.log("[Client DNS Page] Enhance callback result:",r),d(l,!1),r.type==="success"&&r.data?(d(o,r.data.records??[],!0),d($,"")):r.type==="failure"&&r.data&&(d($,r.data.error??"An unknown error occurred.",!0),d(o,[],!0))});function Za(s){if(a(c)===s){d(c,null),d(A,!1);return}d(c,s,!0),d(A,!0)}function Ba(){const s={};return a(o).forEach(r=>{s[r.type]||(s[r.type]=[]),s[r.type].push({data:r.data,ttl:r.ttl,priority:r.priority})}),s}var ha=le(),ya=e(ha);let Ea;var aa=e(ya);let za;var wa=e(aa),Ka=e(wa),at=e(Ka);Rt(at,{class:"h-6 w-6"}),z(),t(Ka),z(2),t(wa);var Oa=i(wa,2),ka=e(Oa),Aa=e(ka),qa=i(e(Aa),2),ia=e(qa);Ha(ia);var tt=i(ia,2);{var et=s=>{var r=Et();r.__click=[Bt,p],n(s,r)};f(tt,s=>{a(p)&&s(et)})}t(qa),z(2),t(Aa);var Ma=i(Aa,2),la=e(Ma);la.__click=[zt,G];var $a=e(la),Sa=e($a),st=e(Sa);t(Sa);var rt=i(Sa);t($a),t(la);var it=i(la,2);{var lt=s=>{var r=Gt(),m=i(e(r),2);ba(m,21,()=>Xa,ga,(na,I)=>{var ta=Ot(),R=e(ta);Ha(R),R.__change=[Kt,Wa,I];var ea=i(R,2),ja=e(ea,!0);t(ea),t(ta),x(K=>{Fa(R,"id",`record-type-${a(I).id}`),St(R,K),Fa(ea,"for",`record-type-${a(I).id}`),g(ja,a(I).label)},[()=>a(b).includes(a(I).id)]),n(na,ta)}),t(m);var D=i(m,2),H=e(D);H.__click=[qt,b];var Na=i(H,2);Na.__click=[$t,b,Xa],t(D),t(r),n(s,r)};f(it,s=>{a(G)&&s(lt)})}t(Ma);var oa=i(Ma,2),ot=e(oa);{var nt=s=>{var r=Ht();z(2),n(s,r)},dt=s=>{var r=Jt();z(),n(s,r)};f(ot,s=>{a(l)?s(nt):s(dt,!1)})}t(oa);var Ca=i(oa,2),Da=e(Ca);Da.__click=[Qt];var vt=e(Da);Lt(vt,{class:"w-3 h-3"}),z(),t(Da),t(Ca);var ct=i(Ca,2);{var pt=s=>{var r=Ut(),m=i(e(r),2),D=e(m,!0);t(m),t(r),x(()=>g(D,a($))),q(3,r,()=>Pt),n(s,r)};f(ct,s=>{a($)&&s(pt)})}t(ka),Ct(ka,(s,r)=>{var m;return(m=Nt)==null?void 0:m(s,r)},()=>Ya),t(Oa),t(aa);var _t=i(aa,2);{var ft=s=>{var r=ie(),m=Ua(r),D=e(m),H=e(D),Na=e(H);Xt(Na,{class:"h-5 w-5"}),z(),t(H);var na=i(H,2),I=i(e(na)),ta=e(I,!0);t(I),t(na),t(D);var R=i(D,2);ba(R,21,()=>Object.entries(Ba()),ga,(K,L,da)=>{let F=()=>a(L)[0],M=()=>a(L)[1];var X=Zt(),J=e(X);let Q;J.__click=[Vt,Za,F];var va=e(J),U=e(va),V=e(U),W=e(V),ca=e(W,!0);t(W);var pa=i(W,2),Pa=e(pa);t(pa),t(V),z(2),t(U);var _a=i(U,2),sa=e(_a);ba(sa,17,()=>M().slice(0,2),ga,(y,w)=>{var _=Wt(),N=e(_,!0);t(_),x(()=>g(N,a(w).data)),n(y,_)});var S=i(sa,2);{var h=y=>{var w=Yt(),_=e(w);t(w),x(()=>g(_,`+ ${M().length-2} more record${M().length-2!==1?"s":""}`)),n(y,w)};f(S,y=>{M().length>2&&y(h)})}t(_a),t(va),t(J),t(X),x(y=>{Q=La(J,1,"card bg-base-100 shadow-md rounded-lg hover:shadow-lg transition-shadow cursor-pointer",null,Q,y),g(ca,F()),g(Pa,`${M().length??""} record${M().length!==1?"s":""}`)},[()=>({"ring-2":a(c)===F(),"ring-secondary":a(c)===F(),"ring-offset-2":a(c)===F()})]),q(1,X,()=>xa,()=>({y:40,delay:500+da*150,duration:400,easing:Tt})),n(K,X)}),t(R),t(m);var ea=i(m,2);{var ja=K=>{var L=re(),da=e(L),F=e(da),M=e(F),X=e(M),J=e(X);t(X);var Q=i(X,2);Q.__click=[ae,c,A];var va=e(Q);jt(va,{class:"h-5 w-5"}),t(Q),t(M);var U=i(M,2),V=e(U),W=e(V);Ft(W,{class:"h-4 w-4"});var ca=i(W,2),pa=e(ca);{var Pa=S=>{var h=O("Maps a domain to IPv4 addresses");n(S,h)},_a=(S,h)=>{{var y=_=>{var N=O("Maps a domain to IPv6 addresses");n(_,N)},w=(_,N)=>{{var fa=B=>{var Y=O("Maps a domain to another domain (alias)");n(B,Y)},Ta=(B,Y)=>{{var Ia=j=>{var ra=O("Specifies mail servers for the domain");n(j,ra)},ma=(j,ra)=>{{var P=C=>{var Ra=O("Text records for various purposes (SPF, DKIM, etc.)");n(C,Ra)},T=(C,Ra)=>{{var mt=Z=>{var ua=O("Nameserver records for the domain");n(Z,ua)},ut=Z=>{var ua=O();x(()=>g(ua,`${a(c)??""} records for ${a(p)??""}`)),n(Z,ua)};f(C,Z=>{a(c)==="NS"?Z(mt):Z(ut,!1)},Ra)}};f(j,C=>{a(c)==="TXT"?C(P):C(T,!1)},ra)}};f(B,j=>{a(c)==="MX"?j(Ia):j(ma,!1)},Y)}};f(_,B=>{a(c)==="CNAME"?B(fa):B(Ta,!1)},N)}};f(S,_=>{a(c)==="AAAA"?_(y):_(w,!1)},h)}};f(pa,S=>{a(c)==="A"?S(Pa):S(_a,!1)})}t(ca),t(V);var sa=i(V,4);ba(sa,21,()=>Ba()[a(c)],ga,(S,h,y)=>{var w=se(),_=e(w),N=e(_),fa=e(N);fa.textContent=`Record ${y+1}`;var Ta=i(fa,2);{var B=P=>{var T=te(),C=e(T);t(T),x(()=>g(C,`TTL: ${a(h).ttl??""}`)),n(P,T)};f(Ta,P=>{a(h).ttl!==void 0&&P(B)})}t(N);var Y=i(N,2);{var Ia=P=>{var T=ee(),C=i(e(T));t(T),x(()=>g(C,` ${a(h).priority??""}`)),n(P,T)};f(Y,P=>{a(h).priority!==void 0&&P(Ia)})}var ma=i(Y,2),j=e(ma),ra=e(j,!0);t(j),t(ma),t(_),t(w),x(()=>g(ra,a(h).data)),n(S,w)}),t(sa),t(U),t(F),t(da),t(L),x(()=>g(J,`${a(c)??""} Records`)),q(1,L,()=>xa,()=>({x:40,duration:300})),q(2,L,()=>xa,()=>({x:40,duration:200})),n(K,L)};f(ea,K=>{a(A)&&a(c)!==null&&K(ja)})}x(()=>g(ta,a(p))),q(1,D,()=>xa,()=>({y:20,delay:400,duration:300})),q(3,m,()=>Ja,()=>({duration:300,delay:300})),n(s,r)};f(_t,s=>{!a(l)&&a(o).length&&s(ft)})}t(ya),t(ha),x((s,r)=>{Ea=La(ya,1,"w-full max-w-[1400px] transition-all duration-500",null,Ea,s),za=La(aa,1,"card w-[min(350px,95vw)] bg-base-100 shadow-xl transition-all duration-500",null,za,r),ia.disabled=a(l),Fa(st,"d",a(G)?"M19 9l-7 7-7-7":"M9 5l7 7-7 7"),g(rt,` ${a(G)?"Hide":"Show"} record type options`),oa.disabled=a(l)},[()=>({flex:!a(o).length||a(l),"flex-col":!a(o).length||a(l),"items-center":!a(o).length||a(l),"justify-center":!a(o).length||a(l),grid:a(o).length&&!a(l),"grid-cols-1":a(o).length&&!a(l),"md:grid-cols-2":a(o).length&&!a(l)&&!a(A),"md:grid-cols-[minmax(350px,1fr)_minmax(400px,2fr)]":a(o).length&&!a(l)&&!a(A),"md:grid-cols-1":a(o).length&&!a(l)&&a(A),"lg:grid-cols-3":a(o).length&&!a(l)&&a(A),"lg:grid-cols-[minmax(320px,1fr)_minmax(400px,2fr)_minmax(350px,1fr)]":a(o).length&&!a(l)&&a(A),"justify-items-center":a(o).length&&!a(l),"gap-6":a(o).length&&!a(l),"lg:gap-10":a(o).length&&!a(l)}),()=>({"self-start":a(o).length&&!a(l),"justify-self-center":a(o).length&&!a(l)})]),Dt(ia,()=>a(p),s=>d(p,s)),q(1,aa,()=>Ja,()=>({duration:300})),n(k,ha),Va()}gt(["click","change"]);export{ge as component};
