import{c as qa,a as f,d as ut,t as h,n as ft,s as _,b as Fa}from"../chunks/DjbUwmZ6.js";import{p as Ca,f as ia,n as Ea,a as ja,F as T,G as Na,y as pt,c as e,t as k,g as a,e as d,s as r,r as t,i as sa}from"../chunks/B2IzWbAD.js";import{s as Oa,r as Ia,i as $}from"../chunks/DUzfTGf7.js";import{I as Va,s as Ga,a as q,r as _t,e as ya,i as ka,c as gt}from"../chunks/B8NHcvEE.js";import{a as bt,b as xt,e as ht,C as wt}from"../chunks/CSLNZcE3.js";import{t as E,f as Aa,s as yt,a as ra}from"../chunks/B901RTXx.js";import{g as kt}from"../chunks/CyDalvIn.js";import{q as Ba}from"../chunks/iVSWiVfi.js";import{A as Ct}from"../chunks/-MBee31-.js";import{R as jt}from"../chunks/ZN2fWsjt.js";function Da(A,g){Ca(g,!0);let w=Ia(g,["$$slots","$$events","$$legacy"]);Va(A,Oa({name:"arrow-down"},()=>w,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(i,l)=>{var C=qa(),c=ia(C);Ga(c,()=>g.children??Ea),f(i,C)},$$slots:{default:!0}})),ja()}function Rt(A,g){Ca(g,!0);let w=Ia(g,["$$slots","$$events","$$legacy"]);Va(A,Oa({name:"external-link"},()=>w,{iconNode:[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]],children:(i,l)=>{var C=qa(),c=ia(C);Ga(c,()=>g.children??Ea),f(i,C)},$$slots:{default:!0}})),ja()}var St=(A,g)=>d(g,""),Mt=h('<button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 btn btn-ghost btn-xs btn-circle" aria-label="Clear input">âœ•</button>'),Ht=h('<div class="absolute inset-0 flex items-center justify-center bg-primary"><span class="loading loading-dots"></span></div> <span class="opacity-0">Check Redirects</span>',1),Pt=ft('<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path></svg> Check Redirects',1),Tt=()=>kt("/"),$t=h('<div class="alert alert-error mt-2 shadow-md"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 stroke-current shrink-0" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),zt=h("<span> </span>"),Lt=h('<div class="relative"><div class="absolute left-7 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-base-100 shadow-xl ring-2 ring-primary z-10"></div> <div><div class="card-body p-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3"><span class="badge badge-sm badge-outline"></span> <!></div> <div class="mt-1"><div class="font-mono text-xs sm:text-sm truncate hover:text-clip"> </div> <div class="flex justify-center py-1"><!></div> <div class="font-mono text-xs sm:text-sm truncate hover:text-clip"> </div></div></div></div></div>'),Ut=(A,g,w)=>g(a(w).length),Ft=h("<span> </span>"),Nt=h('<div class="relative"><div class="absolute left-7 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-success z-10 shadow-lg ring-2 ring-success ring-offset-2"></div> <div><div class="card-body p-4"><div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3"><span class="badge badge-sm badge-outline">Final Destination</span> <!></div> <div class="flex items-center gap-1 mt-1"><div class="font-mono text-xs sm:text-sm truncate hover:text-clip"> </div> <a target="_blank" rel="noopener noreferrer" class="btn btn-ghost btn-xs btn-circle"><!></a></div></div></div></div>'),At=(A,g,w)=>{d(g,null),d(w,!1)},Bt=h('<div class="mb-3"><div class="font-medium text-xs opacity-80"> </div> <div class="font-mono text-xs break-all bg-base-200 p-2 rounded mt-1"> </div></div>'),Dt=h('<div class="font-medium text-sm opacity-80 mt-2">URL</div> <div class="font-mono text-xs break-all bg-base-200 p-2 rounded mt-1"> </div> <div class="flex justify-center py-2"><!></div> <div class="font-medium text-sm opacity-80">Redirected To</div> <div class="font-mono text-xs break-all bg-base-200 p-2 rounded mt-1"> </div> <div class="flex items-center gap-2 mt-3"><div class="font-medium text-sm opacity-80">Status Code</div> <span> </span></div> <div class="divider my-3">Headers</div> <div class="overflow-y-auto max-h-[60vh] pr-2"></div>',1),qt=h('<div class="mb-3"><div class="font-medium text-xs opacity-80"> </div> <div class="font-mono text-xs break-all bg-base-200 p-2 rounded mt-1"> </div></div>'),Et=h('<div class="font-medium text-sm opacity-80 mt-2">Final URL</div> <div class="font-mono text-xs break-all bg-base-200 p-2 rounded mt-1"> </div> <div class="flex items-center gap-2 mt-3"><div class="font-medium text-sm opacity-80">Status Code</div> <span> </span></div> <div class="divider my-3">Headers</div> <div class="overflow-y-auto max-h-[60vh] pr-2"></div>',1),Ot=h('<div class="h-full w-full max-w-[400px] self-start"><div class="card bg-base-100 shadow-xl h-full sticky top-4"><div class="card-body p-5"><div class="flex justify-between items-center mb-2"><h3 class="card-title text-lg"><!></h3> <button class="btn btn-ghost btn-sm btn-circle"><!></button></div> <div class="py-2"><!></div></div></div></div>'),It=h('<div class="flex flex-col justify-start h-full w-full max-w-[600px] mx-auto"><h3 class="text-xl font-bold mb-4 mt-2"><div class="flex items-center gap-2"><!> Redirect Chain</div> <div class="text-sm font-normal opacity-70 mt-1"> </div></h3> <div class="relative"><div class="absolute left-7 top-4 bottom-4 w-0.5 bg-primary/30 z-0"></div> <div class="space-y-6"><!> <!></div></div></div> <!>',1),Vt=h(`<div class="min-h-screen bg-base-200 flex flex-col items-center justify-center p-4 sm:p-6"><div><div><div class="bg-primary text-primary-content p-5"><h2 class="text-2xl font-bold flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> Redirect Checker</h2> <p class="text-sm opacity-80 mt-1">Track the redirection path of any domain</p></div> <div class="card-body p-6"><form method="post" action="?/redirectCheck" class="flex flex-col gap-4"><div class="form-control"><label class="label pb-1"><span class="label-text font-medium">Domain or URL</span></label> <div class="relative"><input type="text" class="input input-bordered w-full pr-12 font-mono text-sm" name="url" placeholder="example.com" required minlength="4"> <!></div> <label class="label pt-0"><span class="label-text-alt">No need to add https:// - we'll handle that</span></label></div> <button class="btn btn-primary w-full mt-2 relative overflow-hidden" type="submit"><!></button> <div class="mt-2"><button type="button" class="btn btn-ghost btn-xs w-full flex justify-center items-center gap-2"><!> Back to tools</button></div> <!></form></div></div> <!></div></div>`);function ee(A,g){Ca(g,!0);let w=T(""),o=T(!1),i=T(Na([])),l=T(""),C=T(""),c=T(null),va=T(Na({})),ca=T(!1);{const s=()=>{d(ca,window.innerWidth<768)};s(),window.addEventListener("resize",s)}let n=T(null),S=T(!1);pt(()=>{console.log("[Client Page] Form prop updated:",g.form)});function Wa(s){return s=s.trim(),s.match(/^https?:\/\//i)?s:`https://${s}`}const Ja=({formData:s})=>{const m=s.get("url");return s.set("url",Wa(m)),d(o,!0),d(i,[],!0),d(l,""),d(C,""),d(c,null),async({result:v})=>{console.log("[Client Page] Enhance callback result:",v),d(o,!1),d(n,null),d(S,!1),v.type==="success"&&v.data?(d(i,v.data.chain??[],!0),d(l,v.data.final??"",!0),d(C,""),d(c,typeof v.data.finalStatus=="number"?v.data.finalStatus:null,!0),d(va,v.data.finalHeaders??{},!0)):v.type==="failure"&&v.data&&(d(C,v.data.error??"An unknown error occurred.",!0),d(i,[],!0),d(l,""),d(c,typeof v.data.finalStatus=="number"?v.data.finalStatus:0,!0),d(va,{},!0))}};function Ra(s){if(a(n)===s){d(n,null),d(S,!1);return}d(n,s,!0),d(S,!0)}var ma=Vt(),ua=e(ma);let Sa;var Y=e(ua);let Ma;var Ha=r(e(Y),2),fa=e(Ha),pa=e(fa),Pa=r(e(pa),2),la=e(Pa);_t(la);var Ka=r(la,2);{var Qa=s=>{var m=Mt();m.__click=[St,w],f(s,m)};$(Ka,s=>{a(w)&&s(Qa)})}t(Pa),sa(2),t(pa);var da=r(pa,2),Xa=e(da);{var Ya=s=>{var m=Ht();sa(2),f(s,m)},Za=s=>{var m=Pt();sa(),f(s,m)};$(Xa,s=>{a(o)?s(Ya):s(Za,!1)})}t(da);var _a=r(da,2),ga=e(_a);ga.__click=[Tt];var at=e(ga);Ct(at,{class:"w-3 h-3"}),sa(),t(ga),t(_a);var tt=r(_a,2);{var et=s=>{var m=$t(),v=r(e(m),2),J=e(v,!0);t(v),t(m),k(()=>_(J,a(C))),E(3,m,()=>yt),f(s,m)};$(tt,s=>{a(C)&&s(et)})}t(fa),bt(fa,(s,m)=>{var v;return(v=ht)==null?void 0:v(s,m)},()=>Ja),t(Ha),t(Y);var st=r(Y,2);{var rt=s=>{var m=It(),v=ia(m),J=e(v),ba=e(J),it=e(ba);jt(it,{class:"h-5 w-5"}),sa(),t(ba);var Ta=r(ba,2),lt=e(Ta);t(Ta),t(J);var $a=r(J,2),za=r(e($a),2),La=e(za);ya(La,17,()=>a(i),ka,(z,u,x)=>{var M=Lt(),j=r(e(M),2);let H;j.__click=()=>Ra(x);var K=e(j),O=e(K),I=e(O);I.textContent=`Step ${x+1}`;var L=r(I,2);{var Z=N=>{var y=zt();let B;var D=e(y);t(y),k(aa=>{B=q(y,1,"badge badge-sm",null,B,aa),_(D,`HTTP ${a(u).status??""}`)},[()=>({"badge-info":a(u).status>=300&&a(u).status<400,"badge-success":a(u).status>=200&&a(u).status<300,"badge-error":a(u).status>=400})]),f(N,y)};$(L,N=>{a(u).status&&N(Z)})}t(O);var U=r(O,2),V=e(U),F=e(V,!0);t(V);var P=r(V,2),p=e(P);Da(p,{class:"h-5 w-5 text-primary/70"}),t(P);var b=r(P,2),R=e(b,!0);t(b),t(U),t(K),t(j),t(M),k(N=>{H=q(j,1,"card bg-base-100 shadow-md rounded-lg ml-14 hover:shadow-lg transition-shadow cursor-pointer",null,H,N),_(F,a(u).from),_(R,a(u).to)},[()=>({"ring-2":a(n)===x,"ring-primary":a(n)===x,"ring-offset-2":a(n)===x})]),E(1,M,()=>ra,()=>({y:40,delay:500+x*150,duration:400,easing:Ba})),f(z,M)});var dt=r(La,2);{var ot=z=>{var u=Nt(),x=r(e(u),2);let M;x.__click=[Ut,Ra,i];var j=e(x),H=e(j),K=r(e(H),2);{var O=F=>{var P=Ft();let p;var b=e(P);t(P),k(R=>{p=q(P,1,"badge badge-sm",null,p,R),_(b,`HTTP ${a(c)??""}`)},[()=>({"badge-info":a(c)>=300&&a(c)<400,"badge-success":a(c)>=200&&a(c)<300,"badge-error":a(c)>=400})]),f(F,P)};$(K,F=>{a(c)&&F(O)})}t(H);var I=r(H,2),L=e(I),Z=e(L,!0);t(L);var U=r(L,2),V=e(U);Rt(V,{class:"h-4 w-4"}),t(U),t(I),t(j),t(x),t(u),k(F=>{M=q(x,1,"card bg-base-100 shadow-md rounded-lg ml-14 hover:shadow-lg transition-shadow cursor-pointer",null,M,F),_(Z,a(l)),gt(U,"href",a(l))},[()=>({"ring-2":a(n)===a(i).length,"ring-primary":a(n)===a(i).length,"ring-offset-2":a(n)===a(i).length})]),E(1,u,()=>ra,()=>({y:40,delay:500+a(i).length*150,duration:400,easing:Ba})),f(z,u)};$(dt,z=>{a(l)&&z(ot)})}t(za),t($a),t(v);var nt=r(v,2);{var vt=z=>{var u=Ot(),x=e(u),M=e(x),j=e(M),H=e(j),K=e(H);{var O=p=>{var b=Fa();k(()=>_(b,`${a(i)[a(n)].status>=300&&a(i)[a(n)].status<400?"Redirect":"Response"} Details`)),f(p,b)},I=p=>{var b=Fa("Final Response Details");f(p,b)};$(K,p=>{a(n)<a(i).length?p(O):p(I,!1)})}t(H);var L=r(H,2);L.__click=[At,n,S];var Z=e(L);wt(Z,{class:"h-5 w-5"}),t(L),t(j);var U=r(j,2),V=e(U);{var F=p=>{var b=Dt(),R=r(ia(b),2),N=e(R,!0);t(R);var y=r(R,2),B=e(y);Da(B,{class:"h-5 w-5 text-primary/70"}),t(y);var D=r(y,4),aa=e(D,!0);t(D);var Q=r(D,2),G=r(e(Q),2);let ta;var xa=e(G,!0);t(G),t(Q);var oa=r(Q,4);ya(oa,21,()=>Object.entries(a(i)[a(n)].headers),ka,(W,X)=>{let ha=()=>a(X)[0],na=()=>a(X)[1];var ea=Bt(),wa=e(ea),ct=e(wa,!0);t(wa);var Ua=r(wa,2),mt=e(Ua,!0);t(Ua),t(ea),k(()=>{_(ct,ha()),_(mt,na())}),f(W,ea)}),t(oa),k(W=>{_(N,a(i)[a(n)].from),_(aa,a(i)[a(n)].to),ta=q(G,1,"badge",null,ta,W),_(xa,a(i)[a(n)].status)},[()=>({"badge-info":a(i)[a(n)].status>=300&&a(i)[a(n)].status<400,"badge-success":a(i)[a(n)].status>=200&&a(i)[a(n)].status<300,"badge-error":a(i)[a(n)].status>=400})]),f(p,b)},P=p=>{var b=Et(),R=r(ia(b),2),N=e(R,!0);t(R);var y=r(R,2),B=r(e(y),2);let D;var aa=e(B,!0);t(B),t(y);var Q=r(y,4);ya(Q,21,()=>Object.entries(a(va)),ka,(G,ta)=>{let xa=()=>a(ta)[0],oa=()=>a(ta)[1];var W=qt(),X=e(W),ha=e(X,!0);t(X);var na=r(X,2),ea=e(na,!0);t(na),t(W),k(()=>{_(ha,xa()),_(ea,oa())}),f(G,W)}),t(Q),k(G=>{_(N,a(l)),D=q(B,1,"badge",null,D,G),_(aa,a(c))},[()=>({"badge-info":a(c)>=300&&a(c)<400,"badge-success":a(c)>=200&&a(c)<300,"badge-error":a(c)>=400})]),f(p,b)};$(V,p=>{a(n)<a(i).length?p(F):p(P,!1)})}t(U),t(M),t(x),t(u),E(1,u,()=>ra,()=>({x:40,duration:300})),E(2,u,()=>ra,()=>({x:40,duration:200})),f(z,u)};$(nt,z=>{a(S)&&a(n)!==null&&z(vt)})}k(()=>_(lt,`Total: ${a(i).length??""} redirect${a(i).length!==1?"s":""}`)),E(1,J,()=>ra,()=>({y:20,delay:400,duration:300})),E(3,v,()=>Aa,()=>({duration:300,delay:300})),f(s,m)};$(st,s=>{!a(o)&&a(l)&&s(rt)})}t(ua),t(ma),k((s,m)=>{Sa=q(ua,1,"w-full max-w-[1400px] transition-all duration-500",null,Sa,s),Ma=q(Y,1,"card w-[min(350px,95vw)] bg-base-100 shadow-xl transition-all duration-500",null,Ma,m),la.disabled=a(o),da.disabled=a(o)},[()=>({flex:!a(l)||a(o),"flex-col":!a(l)||a(o),"items-center":!a(l)||a(o),"justify-center":!a(l)||a(o),grid:a(l)&&!a(o),"grid-cols-1":a(l)&&!a(o),"md:grid-cols-2":a(l)&&!a(o)&&!a(S),"md:grid-cols-[minmax(350px,1fr)_minmax(400px,2fr)]":a(l)&&!a(o)&&!a(S),"md:grid-cols-1":a(l)&&!a(o)&&a(S),"lg:grid-cols-3":a(l)&&!a(o)&&a(S),"lg:grid-cols-[minmax(320px,1fr)_minmax(400px,2fr)_minmax(350px,1fr)]":a(l)&&!a(o)&&a(S),"justify-items-center":a(l)&&!a(o),"gap-6":a(l)&&!a(o),"lg:gap-10":a(l)&&!a(o)}),()=>({"self-start":a(l)&&!a(o)&&!a(ca),"self-center":!a(l)||a(o)||a(ca),"justify-self-center":a(l)&&!a(o)})]),xt(la,()=>a(w),s=>d(w,s)),E(1,Y,()=>Aa,()=>({duration:300})),f(A,ma),ja()}ut(["click"]);export{ee as component};
